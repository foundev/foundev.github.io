---
title: "Python Web Framework Series â€“ Pylons: Part 3 Views with Mako"
date: 2009-06-25T04:53:00+00:00
author: Ryan Svihla
layout: post
dsq_thread_id:
  - "425624199"
tags:
  - python
---
<p>This is a huge post and I should have split this into several smaller ones so please bear with me while I get my series format tweaked. We last left off with <a href="/2009/06/24/python-web-framework-series-pylons-part-2-controllers-and-views.html" target="_blank">Controllers, Views and Testing</a> with a basic test, basic view and basic controller.&nbsp; Now with our basic scaffold built we can focus on making our views reusable, dynamic, and more pleasant to look at.</p>
<h3>First things first</h3>
<p>First before we dive too deeply into Mako, lets setup a default home page by doing the following: </p>
<ol>
<li>delete the index.html in the <strong>pylonsforumpubl</strong><em>ic</em> folder. </li>
<li>in <strong>pylonsforumconfigrouting.py</strong> add the following line somewhere under the line <strong>&ldquo;# CUSTOM ROUTES HERE&rdquo;</strong> but before <strong>&ldquo;return map&rdquo;</strong>. <ol>
<li>map.connect(&#8220;home&#8221;, &#8220;/&#8221;, controller=&#8221;home&#8221;, action=&#8221;index&#8221;) </li>
</ol>
</li>
<li>assuming you have your Pylons command we used earlier&nbsp; <strong>paster serve &ndash;-reload development.ini</strong> then open your browser to <a href="http://127.0.0.1:5000">http://127.0.0.1:5000</a> and you should see the view we created in the last lesson. </li>
</ol>
<h3></h3>
<h3>Basics</h3>
<p>&nbsp;</p>
<p>Mako uses standard python mixed with HTML to display views. This gives you both a great deal of flexibility and a great deal of ability to hang yourself. So be warned, avoid putting to much logic into your view, since you can do about anything there.</p>
<p>Open up <strong>templatesindex.mako</strong> __replace the table rows in the table body with the following:</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterSmartContent">
  <div style="font-family: consolas,lucida console,courier,monospace">
    <span style="color: #008000"><b><tbody></b></span> <br /><span style="color: #bc7a00">%</span><span style="color: #008000"><b>for</b></span> p <span style="color: #aa22ff"><b>in</b></span> c<span style="color: #666666">.</span>posts: <br /><span style="color: #008000"><b><tr><td></b></span><span style="color: #bc7a00">${</span>p<span style="color: #666666">.</span>author<span style="color: #bc7a00">}</span><span style="color: #008000"><b></td><td></b></span><span style="color: #bc7a00">${</span>p<span style="color: #666666">.</span>subject<span style="color: #bc7a00">}</span><span style="color: #008000"><b></td><td></b></span><span style="color: #bc7a00">${</span>p<span style="color: #666666">.</span>dateadded<span style="color: #bc7a00">}</span><span style="color: #008000"><b></td></tr></b></span> <br /><span style="color: #bc7a00">%</span>endfor&nbsp; <br /><span style="color: #008000"><b></tbody></b></span>
  </div>
</div>

<p>for good measure in the beginning of the body before the &ldquo;recent posts&rdquo; div place the following</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterSmartContent">
  <div style="font-family: consolas,lucida console,courier,monospace">
    <span style="color: #008000"><b><body></b></span> <br />username: <span style="color: #bc7a00">${</span>c<span style="color: #666666">.</span>username<span style="color: #bc7a00">}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /><span style="color: #008000"><b><div</b></span>&nbsp;<span style="color: #7d9029">id=</span><span style="color: #ba2121">&#8220;recentposts&#8221;</span>&nbsp;<span style="color: #7d9029">style=</span><span style="color: #ba2121">&#8220;float: right&#8221;</span><span style="color: #008000"><b>></b></span>
  </div>
</div>

<p>Looking at this, for the tables we&rsquo;ve done a for loop over some variable called c.posts. In the second we&rsquo;re accessing another variable c.username. &ldquo;c&rdquo; is shorthand for Template Context, similar to ViewData in Asp.Net MVC and PropertyBag in Monorail, except we&rsquo;re not accessing a string dictionary.&nbsp; </p>
<p>Add the following tests in &ldquo;<strong>pylonsforumtestsfunctionaltest_home.py</strong>&rdquo;&nbsp; for what we need to add to the controller:</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterSmartContent">
  <div style="font-family: consolas,lucida console,courier,monospace">
    &nbsp;&nbsp;&nbsp; <span style="color: #008000"><b>def</b></span>&nbsp;<span style="color: #0000ff">test_username</span>(<span style="color: #008000">self</span>): <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; response <span style="color: #666666">=</span>&nbsp;<span style="color: #008000">self</span><span style="color: #666666">.</span>app<span style="color: #666666">.</span>get(url(controller<span style="color: #666666">=</span><span style="color: #ba2121">&#8216;home&#8217;</span>, action<span style="color: #666666">=</span><span style="color: #ba2121">&#8216;index&#8217;</span>)) <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #008000"><b>assert</b></span>&nbsp;<span style="color: #ba2121">&#8220;username: rsvihla&#8221;</span>&nbsp;<span style="color: #aa22ff"><b>in</b></span> response </p> 

    <p>
      &nbsp;&nbsp;&nbsp; <span style="color: #008000"><b>def</b></span>&nbsp;<span style="color: #0000ff">test_recent_posts</span>(<span style="color: #008000">self</span>): <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; response <span style="color: #666666">=</span>&nbsp;<span style="color: #008000">self</span><span style="color: #666666">.</span>app<span style="color: #666666">.</span>get(url(controller<span style="color: #666666">=</span><span style="color: #ba2121">&#8216;home&#8217;</span>, action<span style="color: #666666">=</span><span style="color: #ba2121">&#8216;index&#8217;</span>)) <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #008000"><b>assert</b></span>&nbsp;<span style="color: #ba2121">&#8220;<tr><td>jkruse</td><td>New Kindle</td><td>06/24/2009</td></tr>&#8221;</span>&nbsp;<span style="color: #aa22ff"><b>in</b></span> response </div> </div>

<pre><code>  &lt;p&gt;
    running &lt;i&gt;nosetests &amp;ndash;-with-pylons=test.init&lt;/i&gt; should give you two assertion failures.
  &lt;/p&gt;

  &lt;p&gt;
    now change &amp;ldquo;&lt;b&gt;pylonsforumcontrollershome.py&lt;/b&gt;&amp;rdquo; to look like so:
  &lt;/p&gt;

  &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterSmartContent"&gt;
    &lt;div style="font-family: consolas,lucida console,courier,monospace"&gt;
      &lt;span style="color: #008000"&gt;&lt;b&gt;import&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;&lt;b&gt;logging&lt;/b&gt;&lt;/span&gt; &lt;/p&gt;

      &lt;p&gt;
        &lt;span style="color: #008000"&gt;&lt;b&gt;from&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;&lt;b&gt;pylons&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;import&lt;/b&gt;&lt;/span&gt; request, response, session, tmpl_context &lt;span style="color: #008000"&gt;&lt;b&gt;as&lt;/b&gt;&lt;/span&gt; c &lt;br /&gt;&lt;span style="color: #008000"&gt;&lt;b&gt;from&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;&lt;b&gt;pylons.controllers.util&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;import&lt;/b&gt;&lt;/span&gt; abort, redirect_to
      &lt;/p&gt;

      &lt;p&gt;
        &lt;span style="color: #008000"&gt;&lt;b&gt;from&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;&lt;b&gt;pylonsforum.lib.base&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;import&lt;/b&gt;&lt;/span&gt; BaseController, render
      &lt;/p&gt;

      &lt;p&gt;
        log &lt;span style="color: #666666"&gt;=&lt;/span&gt; logging&lt;span style="color: #666666"&gt;.&lt;/span&gt;getLogger(__name__)
      &lt;/p&gt;

      &lt;p&gt;
        &lt;span style="color: #008000"&gt;&lt;b&gt;class&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;&lt;b&gt;Post&lt;/b&gt;&lt;/span&gt;(&lt;span style="color: #008000"&gt;object&lt;/span&gt;):
      &lt;/p&gt;

      &lt;p&gt;
        &amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span style="color: #008000"&gt;&lt;b&gt;def&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;__init__&lt;/span&gt;(&lt;span style="color: #008000"&gt;self&lt;/span&gt;, author, subject, dateadded): &lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span style="color: #008000"&gt;self&lt;/span&gt;&lt;span style="color: #666666"&gt;.&lt;/span&gt;author &lt;span style="color: #666666"&gt;=&lt;/span&gt; author &lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span style="color: #008000"&gt;self&lt;/span&gt;&lt;span style="color: #666666"&gt;.&lt;/span&gt;subject &lt;span style="color: #666666"&gt;=&lt;/span&gt; subject &lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span style="color: #008000"&gt;self&lt;/span&gt;&lt;span style="color: #666666"&gt;.&lt;/span&gt;dateadded &lt;span style="color: #666666"&gt;=&lt;/span&gt; dateadded
      &lt;/p&gt;

      &lt;p&gt;
        &lt;span style="color: #008000"&gt;&lt;b&gt;class&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;&lt;b&gt;HomeController&lt;/b&gt;&lt;/span&gt;(BaseController):
      &lt;/p&gt;

      &lt;p&gt;
        &amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span style="color: #008000"&gt;&lt;b&gt;def&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;index&lt;/span&gt;(&lt;span style="color: #008000"&gt;self&lt;/span&gt;): &lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; c&lt;span style="color: #666666"&gt;.&lt;/span&gt;username &lt;span style="color: #666666"&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style="color: #ba2121"&gt;&amp;#8220;rsvihla&amp;#8221;&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; c&lt;span style="color: #666666"&gt;.&lt;/span&gt;posts &lt;span style="color: #666666"&gt;=&lt;/span&gt; [Post(&lt;span style="color: #ba2121"&gt;&amp;#8220;jkruse&amp;#8221;&lt;/span&gt;, &lt;span style="color: #ba2121"&gt;&amp;#8220;New Kindle&amp;#8221;&lt;/span&gt;, &lt;span style="color: #ba2121"&gt;&amp;#8220;06/24/2009&amp;#8221;&lt;/span&gt;)] &lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span style="color: #008000"&gt;&lt;b&gt;return&lt;/b&gt;&lt;/span&gt; render(&lt;span style="color: #ba2121"&gt;&amp;#8216;index.mako&amp;#8217;&lt;/span&gt;) &lt;/div&gt; &lt;/div&gt;

        &lt;p&gt;
          We&amp;rsquo;ve added a Post class with basic attributes and placed them in an array in the c.posts variable, also we&amp;rsquo;ve hardcoded the username &amp;ldquo;rsvihla&amp;rdquo;.&amp;nbsp; I know the more experience developers here are cringing at my awful little Post class, don&amp;rsquo;t worry its a just a place holder and will be removed later.&amp;nbsp; The point here is building functionality in steps with test coverage.&amp;nbsp; Now run nosetests just as before and you should have all tests passing.&amp;nbsp; For bonus measure refresh &lt;a href="http://127.0.0.1:5000"&gt;http://127.0.0.1:5000&lt;/a&gt; .
        &lt;/p&gt;

        &lt;h3&gt;
          Base Layouts
        &lt;/h3&gt;

        &lt;p&gt;
          We&amp;rsquo;ve built a very basic page now, but suppose we want to build several and have some bits of information show up over and over again, like user name or menu structure.
        &lt;/p&gt;

        &lt;p&gt;
          create a base template named &amp;ldquo;base.mako&amp;rdquo; in the templates directory that has the following in it:
        &lt;/p&gt;

        &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
          &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
            &lt;span style="color: #bc7a00"&gt;&lt;%&lt;/span&gt;&lt;span style="color: #008000"&gt;namespace&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;name=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;user&amp;#8221;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;module=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;pylonsforum.model.users&amp;#8221;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #bc7a00"&gt;/&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;&lt;!DOCTYPE&amp;nbsp;html&amp;nbsp;PUBLIC&amp;nbsp;&amp;#8220;-//W3C//DTD&amp;nbsp;XHTML&amp;nbsp;1.0&amp;nbsp;Transitional//EN&amp;#8221;&amp;nbsp;&amp;#8220;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&amp;#8221;&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;html&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;head&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;title&gt;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;&lt;span style="color: #008000"&gt;self&lt;/span&gt;&lt;span style="color: #666666"&gt;.&lt;/span&gt;title()&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/title&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;&lt;span style="color: #008000"&gt;self&lt;/span&gt;&lt;span style="color: #666666"&gt;.&lt;/span&gt;head_tags()&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;style&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #7d9029"&gt;type=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;text/css&amp;#8221;&lt;/span&gt;&lt;span style="color: #008000"&gt;&lt;b&gt;&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;#header{&amp;nbsp;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;height&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;70px&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;width&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;100&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;%;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;border-width&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&lt;b&gt;.5px&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;border-style&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;solid&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;font-size&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #aa22ff"&gt;:30px&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;text-align&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;center&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;background-color&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;#9B2C25&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; }&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;#sidebar{&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;background-color&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;#C1AD72&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;border-width&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&lt;b&gt;.5px&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;border-style&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;dotted&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;width&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;150px&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;height&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;600px&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;float&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;right&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;font-size&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;15px&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;padding-top&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #aa22ff"&gt;:10px&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;padding-left&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #aa22ff"&gt;:5px&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; }&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;#content{&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;margin-top&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #aa22ff"&gt;:10px&lt;/span&gt;&lt;span style="color: #666666"&gt;;&lt;/span&gt;&lt;br /&gt; }&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;body&lt;/b&gt;&lt;/span&gt;&amp;nbsp;{&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;background-color&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #666666"&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style="color: #666666"&gt;#DACEAB&lt;/span&gt;;&lt;br /&gt; }&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/style&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/head&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;body&gt;&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;

            &lt;p&gt;
              &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;div&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;id=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;header&amp;#8221;&lt;/span&gt;&lt;span style="color: #008000"&gt;&lt;b&gt;&gt;&lt;/b&gt;&lt;/span&gt;Pylons&amp;nbsp;Forum&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;div&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;id=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;sidebar&amp;#8221;&lt;/span&gt;&lt;span style="color: #008000"&gt;&lt;b&gt;&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; username:&amp;nbsp;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;user&lt;span style="color: #666666"&gt;.&lt;/span&gt;get_current_user()&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;
            &lt;/p&gt;

            &lt;p&gt;
              &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;div&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;id=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;content&amp;#8221;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;&lt;span style="color: #008000"&gt;self&lt;/span&gt;&lt;span style="color: #666666"&gt;.&lt;/span&gt;body()&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;
            &lt;/p&gt;

            &lt;p&gt;
              &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/body&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/html&gt;&lt;/b&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt;

              &lt;p&gt;
                Most everything is standard HTML so lets restrict this to the interesting bits:
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &lt;span style="color: #bc7a00"&gt;&lt;%&lt;/span&gt;&lt;span style="color: #008000"&gt;namespace&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;name=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;user&amp;#8221;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;module=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;pylonsforum.model.users&amp;#8221;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #bc7a00"&gt;/&gt;&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                The namespace directive here is basically doing an import of a custom module and giving it an alias of user. This is no different than in normal python code typing:
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &lt;span style="color: #008000"&gt;&lt;b&gt;import&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;&lt;b&gt;pylonsforum.model.users&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;as&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;&lt;b&gt;user&lt;/b&gt;&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;p&gt;
                This is used later in the div sidebar by pulling the current user from my customer users module:
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  username&amp;nbsp;:&amp;nbsp;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;user&lt;span style="color: #666666"&gt;.&lt;/span&gt;get_current_user()&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                the module source only contains a simple hard coded value for now so in &lt;b&gt;pylonsforummodel &lt;/b&gt;make a &lt;b&gt;users.py&lt;/b&gt; file with only the following:
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &lt;span style="color: #008000"&gt;&lt;b&gt;def&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;get_current_user&lt;/span&gt;(&lt;span style="color: #008000"&gt;self&lt;/span&gt;):&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;return&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #ba2121"&gt;&amp;#8220;rsvihla&amp;#8221;&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;hr /&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;p&gt;
                Now onto the next non-HTML tidbits
              &lt;/p&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;title&gt;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;&lt;span style="color: #008000"&gt;self&lt;/span&gt;&lt;span style="color: #666666"&gt;.&lt;/span&gt;title()&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/title&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;&lt;span style="color: #008000"&gt;self&lt;/span&gt;&lt;span style="color: #666666"&gt;.&lt;/span&gt;head_tags()&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;&lt;span style="color: #008000"&gt;self&lt;/span&gt;&lt;span style="color: #666666"&gt;.&lt;/span&gt;body()&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;p&gt;
                Everyone of the above methods establishes a base method that the child templates must now call with the exception of self.body (which is called when the templates actually render the content anyway).&amp;nbsp; So lets adjust &amp;ldquo;index.mako&amp;rdquo; template to the following:
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &lt;span style="color: #bc7a00"&gt;&lt;%&lt;/span&gt;&lt;span style="color: #008000"&gt;inherit&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;file=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;/base.mako&amp;#8221;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;/&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;&lt;%&lt;/span&gt;&lt;span style="color: #008000"&gt;def&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;name=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;title()&amp;#8221;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;&gt;&lt;/span&gt;Pylons&amp;nbsp;Forum&lt;span style="color: #bc7a00"&gt;&lt;!--%&lt;/span--&gt;&lt;span style="color: #008000"&gt;def&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;&lt;%&lt;/span&gt;&lt;span style="color: #008000"&gt;def&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;name=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;head_tags()&amp;#8221;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;&gt;&lt;!--%&lt;/span--&gt;&lt;span style="color: #008000"&gt;def&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;div&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;id=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;recentposts&amp;#8221;&lt;/span&gt;&lt;span style="color: #008000"&gt;&lt;b&gt;&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;table&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;/b&gt;&lt;/span&gt;subject&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/th&gt;&lt;th&gt;&lt;/b&gt;&lt;/span&gt;author&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/th&gt;&lt;th&gt;&lt;/b&gt;&lt;/span&gt;date&amp;nbsp;submitted&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;tbody&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;%&lt;/span&gt;&lt;span style="color: #008000"&gt;&lt;b&gt;for&lt;/b&gt;&lt;/span&gt;&amp;nbsp;p&amp;nbsp;&lt;span style="color: #aa22ff"&gt;&lt;b&gt;in&lt;/b&gt;&lt;/span&gt;&amp;nbsp;c&lt;span style="color: #666666"&gt;.&lt;/span&gt;posts:&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;tr&gt;&lt;td&gt;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;p&lt;span style="color: #666666"&gt;.&lt;/span&gt;author&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/td&gt;&lt;td&gt;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;p&lt;span style="color: #666666"&gt;.&lt;/span&gt;subject&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/td&gt;&lt;td&gt;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;p&lt;span style="color: #666666"&gt;.&lt;/span&gt;dateadded&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;%&lt;/span&gt;endfor&amp;nbsp;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/tbody&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/table&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                The inherit line at the very top references our base.mako template. The next two lines with the &lt;%def tag are where our previous self.head_tags() and self.title() methods are referenced.
              &lt;/p&gt;

              &lt;p&gt;
                You&amp;rsquo;ll notice the title method is passing in a new title for the page, and our head_tags method is doing nothing, so no changes there. Browse to your pylons home page and you should see something resembling this:
              &lt;/p&gt;

              &lt;p&gt;
                &lt;a href="//lostechies.com/ryansvihla/files/2011/03/image_024C9A53.png"&gt;&lt;img style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" alt="image" src="//lostechies.com/ryansvihla/files/2011/03/image_thumb_4B061317.png" width="624" border="0" height="412" /&gt;&lt;/a&gt;
              &lt;/p&gt;

              &lt;p&gt;
                Your tests should also still pass with no modification.
              &lt;/p&gt;

              &lt;p&gt;
                &lt;a href="//lostechies.com/ryansvihla/files/2011/03/image_296A8FE0.png"&gt;&lt;img style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" alt="image" src="//lostechies.com/ryansvihla/files/2011/03/image_thumb_4436B5EC.png" width="655" border="0" height="91" /&gt;&lt;/a&gt;
              &lt;/p&gt;

              &lt;h3&gt;
                Forms and Web Helpers
              &lt;/h3&gt;

              &lt;p&gt;
                Lets add a basic submit form and a link in the base.mako template to go to the new form page.
              &lt;/p&gt;

              &lt;p&gt;
                Add the following tests to &lt;b&gt;test_home.py&lt;/b&gt;
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;def&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;test_new_thread&lt;/span&gt;(&lt;span style="color: #008000"&gt;self&lt;/span&gt;):&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;response&amp;nbsp;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;self&lt;/span&gt;&lt;span style="color: #666666"&gt;.&lt;/span&gt;app&lt;span style="color: #666666"&gt;.&lt;/span&gt;get(url(controller&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;home&amp;#8221;&lt;/span&gt;,&amp;nbsp;action&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;newthread&amp;#8221;&lt;/span&gt;))&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;assert&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #ba2121"&gt;&amp;#8220;&lt;input&amp;nbsp;id=&lt;/span&gt;&lt;span style="color: #bb6622"&gt;&lt;b&gt;&amp;#8220;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #ba2121"&gt;subject&lt;/span&gt;&lt;span style="color: #bb6622"&gt;&lt;b&gt;&amp;#8220;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;nbsp;name=&lt;/span&gt;&lt;span style="color: #bb6622"&gt;&lt;b&gt;&amp;#8220;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #ba2121"&gt;subject&lt;/span&gt;&lt;span style="color: #bb6622"&gt;&lt;b&gt;&amp;#8220;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;nbsp;type=&lt;/span&gt;&lt;span style="color: #bb6622"&gt;&lt;b&gt;&amp;#8220;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #ba2121"&gt;text&lt;/span&gt;&lt;span style="color: #bb6622"&gt;&lt;b&gt;&amp;#8220;&lt;/b&gt;&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;nbsp;/&gt;&amp;#8221;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #aa22ff"&gt;&lt;b&gt;in&lt;/b&gt;&lt;/span&gt;&amp;nbsp;response&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;def&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;test_submit_new_thread&lt;/span&gt;(&lt;span style="color: #008000"&gt;self&lt;/span&gt;):&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;response&amp;nbsp;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;self&lt;/span&gt;&lt;span style="color: #666666"&gt;.&lt;/span&gt;app&lt;span style="color: #666666"&gt;.&lt;/span&gt;post(url(controller&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;home&amp;#8221;&lt;/span&gt;,&amp;nbsp;action&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;submitnewthread&amp;#8221;&lt;/span&gt;),&amp;nbsp;params&lt;span style="color: #666666"&gt;=&lt;/span&gt;{&lt;span style="color: #ba2121"&gt;&amp;#8216;subject&amp;#8217;&lt;/span&gt;:&lt;span style="color: #ba2121"&gt;&amp;#8216;test&amp;#8217;&lt;/span&gt;,&lt;span style="color: #ba2121"&gt;&amp;#8216;content&amp;#8217;&lt;/span&gt;:&lt;span style="color: #ba2121"&gt;&amp;#8216;testcontent&amp;#8217;&lt;/span&gt;})&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;assert&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #ba2121"&gt;&amp;#8220;post&amp;nbsp;submitted&amp;#8221;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #aa22ff"&gt;&lt;b&gt;in&lt;/b&gt;&lt;/span&gt;&amp;nbsp;response
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                Install FormBuild with the following command:
              &lt;/p&gt;

              &lt;p&gt;
                &lt;a href="//lostechies.com/ryansvihla/files/2011/03/image_786ADF32.png"&gt;&lt;img style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" alt="image" src="//lostechies.com/ryansvihla/files/2011/03/image_thumb_61AB97A9.png" width="647" border="0" height="39" /&gt;&lt;/a&gt;
              &lt;/p&gt;

              &lt;p&gt;
                Next open &lt;b&gt;libhelpers.py &lt;/b&gt;and change the imports to as follows:
              &lt;/p&gt;

              &lt;p&gt;
                &lt;a href="//lostechies.com/ryansvihla/files/2011/03/image_080D7AF5.png"&gt;&lt;img style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" alt="image" src="//lostechies.com/ryansvihla/files/2011/03/image_thumb_181C49AC.png" width="655" border="0" height="85" /&gt;&lt;/a&gt;
              &lt;/p&gt;

              &lt;p&gt;
                In the sidebar div under username add
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;br/&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;h&lt;span style="color: #666666"&gt;.&lt;/span&gt;link_to(&lt;span style="color: #ba2121"&gt;&amp;#8216;new&amp;nbsp;thread&amp;#8217;&lt;/span&gt;,&amp;nbsp;h&lt;span style="color: #666666"&gt;.&lt;/span&gt;url_for(controller&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8216;home&amp;#8217;&lt;/span&gt;,&amp;nbsp;action&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8216;newthread&amp;#8217;&lt;/span&gt;))&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                Now add an action on the home controller for :&amp;rdquo;new thread&amp;rdquo; and create a view in your templates folder called &lt;b&gt;newthread.mako&lt;/b&gt;.
              &lt;/p&gt;

              &lt;p&gt;
                Add the following to your &lt;b&gt;home.py&lt;/b&gt; controller:
              &lt;/p&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;def&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;newthread&lt;/span&gt;(&lt;span style="color: #008000"&gt;self&lt;/span&gt;):&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;return&lt;/b&gt;&lt;/span&gt;&amp;nbsp;render(&lt;span style="color: #ba2121"&gt;&amp;#8216;newthread.mako&amp;#8217;&lt;/span&gt;)
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;h3&gt;
              &lt;/h3&gt;

              &lt;h3&gt;
                &amp;nbsp;
              &lt;/h3&gt;

              &lt;p&gt;
                The newthread.mako file should have the following in it:
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &lt;span style="color: #bc7a00"&gt;&lt;%&lt;/span&gt;&lt;span style="color: #008000"&gt;inherit&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;file=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;/base.mako&amp;#8221;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;/&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;&lt;%&lt;/span&gt;&lt;span style="color: #008000"&gt;def&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;name=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;title()&amp;#8221;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;&gt;&lt;/span&gt;Make&amp;nbsp;A&amp;nbsp;New&amp;nbsp;Thread&lt;span style="color: #bc7a00"&gt;&lt;!--%&lt;/span--&gt;&lt;span style="color: #008000"&gt;def&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;&lt;%&lt;/span&gt;&lt;span style="color: #008000"&gt;def&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;name=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;head_tags()&amp;#8221;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;&gt;&lt;!--%&lt;/span--&gt;&lt;span style="color: #008000"&gt;def&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;h&lt;span style="color: #666666"&gt;.&lt;/span&gt;form_start(h&lt;span style="color: #666666"&gt;.&lt;/span&gt;url_for(controller&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8216;home&amp;#8217;&lt;/span&gt;,&amp;nbsp;action&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8216;submitnewthread&amp;#8217;&lt;/span&gt;),&amp;nbsp;method&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;post&amp;#8221;&lt;/span&gt;)&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;h&lt;span style="color: #666666"&gt;.&lt;/span&gt;field(&lt;span style="color: #ba2121"&gt;&amp;#8220;Subject&amp;#8221;&lt;/span&gt;,&amp;nbsp;field&lt;span style="color: #666666"&gt;=&lt;/span&gt;h&lt;span style="color: #666666"&gt;.&lt;/span&gt;text(name&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8216;subject&amp;#8217;&lt;/span&gt;))&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;h&lt;span style="color: #666666"&gt;.&lt;/span&gt;field(&lt;span style="color: #ba2121"&gt;&amp;#8220;Content&amp;#8221;&lt;/span&gt;&amp;nbsp;,field&lt;span style="color: #666666"&gt;=&lt;/span&gt;h&lt;span style="color: #666666"&gt;.&lt;/span&gt;textarea(name&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8216;content&amp;#8217;&lt;/span&gt;))&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&amp;nbsp;&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;h&lt;span style="color: #666666"&gt;.&lt;/span&gt;field(field&lt;span style="color: #666666"&gt;=&lt;/span&gt;h&lt;span style="color: #666666"&gt;.&lt;/span&gt;submit(value&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;Create&amp;nbsp;Thread&amp;#8221;&lt;/span&gt;,&amp;nbsp;name&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8216;submit&amp;#8217;&lt;/span&gt;))&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;h&lt;span style="color: #666666"&gt;.&lt;/span&gt;form_end()&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                Sooooooo what are h values everywhere?&amp;nbsp; Do I need them? They come from our earlier imports in &lt;b&gt;&lt;span style="text-decoration: underline"&gt;l&lt;/span&gt;ibhelpers.py , &lt;/b&gt;and no you do not actually need to use them, a typical HTML form tag is all you actually need, this is an available option for those interested.
              &lt;/p&gt;

              &lt;ul&gt;
                &lt;li&gt;
                  h.form_start and h.form_end are pretty self explanatory
                &lt;/li&gt;
                &lt;li&gt;
                  h.field takes label text as argument one, and then a url for argument two.
                &lt;/li&gt;
                &lt;li&gt;
                  h.text, h.textarea, h.hidden and h.submit represent their html counterparts.
                &lt;/li&gt;
                &lt;li&gt;
                  h.url_for takes a controller and action to make a url for you.
                &lt;/li&gt;
              &lt;/ul&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;hr /&gt;

              &lt;p&gt;
                We now need another action for actually posting our data. so add another method to our &lt;b&gt;home.py&lt;/b&gt; controller:
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;def&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;submitnewthread&lt;/span&gt;(&lt;span style="color: #008000"&gt;self&lt;/span&gt;):&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;c&lt;span style="color: #666666"&gt;.&lt;/span&gt;username&amp;nbsp;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&amp;nbsp;users&lt;span style="color: #666666"&gt;.&lt;/span&gt;get_current_user(&lt;span style="color: #008000"&gt;self&lt;/span&gt;)&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;c&lt;span style="color: #666666"&gt;.&lt;/span&gt;subject&amp;nbsp;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&amp;nbsp;request&lt;span style="color: #666666"&gt;.&lt;/span&gt;POST[&lt;span style="color: #ba2121"&gt;&amp;#8216;subject&amp;#8217;&lt;/span&gt;]&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;c&lt;span style="color: #666666"&gt;.&lt;/span&gt;content&amp;nbsp;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&amp;nbsp;request&lt;span style="color: #666666"&gt;.&lt;/span&gt;POST[&lt;span style="color: #ba2121"&gt;&amp;#8216;content&amp;#8217;&lt;/span&gt;]&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;return&lt;/b&gt;&lt;/span&gt;&amp;nbsp;render(&lt;span style="color: #ba2121"&gt;&amp;#8216;submitnewthread.mako&amp;#8217;&lt;/span&gt;)
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                With the following import at the top
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &lt;span style="color: #008000"&gt;&lt;b&gt;import&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;&lt;b&gt;pylonsforum.model.users&lt;/b&gt;&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;p&gt;
                Our &lt;b&gt;submitnewthread.mako&lt;/b&gt; view should have the following:
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &lt;span style="color: #bc7a00"&gt;&lt;%&lt;/span&gt;&lt;span style="color: #008000"&gt;inherit&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;file=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;/base.mako&amp;#8221;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;/&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;&lt;%&lt;/span&gt;&lt;span style="color: #008000"&gt;def&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;name=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;title()&amp;#8221;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;&gt;&lt;/span&gt;Thank&amp;nbsp;You&amp;nbsp;For&amp;nbsp;Your&amp;nbsp;Submission&lt;span style="color: #bc7a00"&gt;&lt;!--%&lt;/span--&gt;&lt;span style="color: #008000"&gt;def&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #bc7a00"&gt;&lt;%&lt;/span&gt;&lt;span style="color: #008000"&gt;def&lt;/span&gt;&amp;nbsp;&lt;span style="color: #7d9029"&gt;name=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8220;head_tags()&amp;#8221;&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;&gt;&lt;!--%&lt;/span--&gt;&lt;span style="color: #008000"&gt;def&lt;/span&gt;&lt;span style="color: #bc7a00"&gt;&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;&lt;p&gt;&lt;/b&gt;&lt;/span&gt;post&amp;nbsp;submitted&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;/p&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; data&amp;nbsp;was&amp;nbsp;as&amp;nbsp;follows&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;br/&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; author:&amp;nbsp;&amp;nbsp;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;c&lt;span style="color: #666666"&gt;.&lt;/span&gt;username&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;br/&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; subject:&amp;nbsp;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;c&lt;span style="color: #666666"&gt;.&lt;/span&gt;subject&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;br&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;/&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; content:&amp;nbsp;&lt;span style="color: #bc7a00"&gt;${&lt;/span&gt;c&lt;span style="color: #666666"&gt;.&lt;/span&gt;content&lt;span style="color: #bc7a00"&gt;}&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;&lt;br&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;/&gt;&lt;/b&gt;&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                newthread view should look like so
              &lt;/p&gt;

              &lt;h3&gt;
                &lt;a href="//lostechies.com/ryansvihla/files/2011/03/image_0C868C6D.png"&gt;&lt;img style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" alt="image" src="//lostechies.com/ryansvihla/files/2011/03/image_thumb_67F4FEE8.png" width="595" border="0" height="376" /&gt;&lt;/a&gt;
              &lt;/h3&gt;

              &lt;p&gt;
                and submitnewthread page should look like this
              &lt;/p&gt;

              &lt;p&gt;
                &lt;a href="//lostechies.com/ryansvihla/files/2011/03/image_63124B2C.png"&gt;&lt;img style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" alt="image" src="//lostechies.com/ryansvihla/files/2011/03/image_thumb_10936AF0.png" width="598" border="0" height="524" /&gt;&lt;/a&gt;
              &lt;/p&gt;

              &lt;h3&gt;
                Validation
              &lt;/h3&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;p&gt;
                Validation is a huge subject in Pylons, I&amp;rsquo;m going to just focus on the most basic common case.
              &lt;/p&gt;

              &lt;p&gt;
                Open &lt;b&gt;home.py &lt;/b&gt;controller again and add these two imports to the top
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &lt;span style="color: #008000"&gt;&lt;b&gt;import&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;&lt;b&gt;formencode&lt;/b&gt;&lt;/span&gt;&lt;br /&gt; &lt;span style="color: #008000"&gt;&lt;b&gt;from&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;&lt;b&gt;pylons.decorators&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;import&lt;/b&gt;&lt;/span&gt;&amp;nbsp;validate
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;p&gt;
                Then in the same file for now below the post object add
              &lt;/p&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &lt;span style="color: #008000"&gt;&lt;b&gt;class&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;&lt;b&gt;PostForm&lt;/b&gt;&lt;/span&gt;(formencode&lt;span style="color: #666666"&gt;.&lt;/span&gt;Schema):&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;allow_extra_fields&amp;nbsp;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;True&lt;/span&gt;&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;filter_extra_fields&amp;nbsp;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style="color: #008000"&gt;True&lt;/span&gt;&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;subject&amp;nbsp;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&amp;nbsp;formencode&lt;span style="color: #666666"&gt;.&lt;/span&gt;validators&lt;span style="color: #666666"&gt;.&lt;/span&gt;String(not_empty&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #008000"&gt;True&lt;/span&gt;)&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;content&amp;nbsp;&lt;span style="color: #666666"&gt;=&lt;/span&gt;&amp;nbsp;formencode&lt;span style="color: #666666"&gt;.&lt;/span&gt;validators&lt;span style="color: #666666"&gt;.&lt;/span&gt;String(not_empty&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #008000"&gt;True&lt;/span&gt;)
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;p&gt;
                Finally on top of the submitnewthead action in the same class file add
              &lt;/p&gt;

              &lt;div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent"&gt;
                &lt;div style="font-family:consolas,lucida console,courier,monospace"&gt;
                  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #aa22ff"&gt;@validate&lt;/span&gt;(schema&lt;span style="color: #666666"&gt;=&lt;/span&gt;PostForm(),&amp;nbsp;form&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #ba2121"&gt;&amp;#8216;newthread&amp;#8217;&lt;/span&gt;,&amp;nbsp;post_only&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #008000"&gt;True&lt;/span&gt;,&amp;nbsp;on_get&lt;span style="color: #666666"&gt;=&lt;/span&gt;&lt;span style="color: #008000"&gt;True&lt;/span&gt;)&lt;br /&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style="color: #008000"&gt;&lt;b&gt;def&lt;/b&gt;&lt;/span&gt;&amp;nbsp;&lt;span style="color: #0000ff"&gt;submitnewthread&lt;/span&gt;(&lt;span style="color: #008000"&gt;self&lt;/span&gt;):
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;p&gt;
                Now if you attempt to leave either the subject or content fields blank PylonsForum will now notify you of what you missed.
              &lt;/p&gt;

              &lt;p&gt;
                &lt;a href="//lostechies.com/ryansvihla/files/2011/03/image_26E91035.png"&gt;&lt;img style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" alt="image" src="//lostechies.com/ryansvihla/files/2011/03/image_thumb_546A2FF8.png" width="605" border="0" height="388" /&gt;&lt;/a&gt;
              &lt;/p&gt;

              &lt;p&gt;
                &amp;nbsp;
              &lt;/p&gt;

              &lt;p&gt;
                When done your tests should all pass
              &lt;/p&gt;

              &lt;p&gt;
                &lt;a href="//lostechies.com/ryansvihla/files/2011/03/image_17F14468.png"&gt;&lt;img style="border-bottom: 0px;border-left: 0px;border-top: 0px;border-right: 0px" alt="image" src="//lostechies.com/ryansvihla/files/2011/03/image_thumb_5E6E3470.png" width="602" border="0" height="91" /&gt;&lt;/a&gt;
              &lt;/p&gt;

              &lt;h3&gt;
                Summary
              &lt;/h3&gt;

              &lt;p&gt;
                We went through the 80% cases for views, controllers and a brief bit about testing the response object. We still haven&amp;rsquo;t done a lot of unit testing in the traditional sense but we&amp;rsquo;ve been focusing exclusively on UI.&amp;nbsp; Stay tuned next for my SQL Alchemy piece.
              &lt;/p&gt;
</code></pre>